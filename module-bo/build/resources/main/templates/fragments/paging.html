<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" >
<th:block th:fragment="paging_Fragment">
    <script>
        var _totalCount = "[[${searchInfo.totalCount}]]";
    </script>
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center" th:if="${searchInfo.totalCount > 0}" th:id="${pageId}">
            <th:block th:with="totalPage=${T(java.lang.Math).floor(searchInfo.totalCount % searchInfo.pageCnt) == 0 ? T(java.lang.Math).floor(searchInfo.totalCount / searchInfo.pageCnt) : T(java.lang.Math).floor(searchInfo.totalCount / searchInfo.pageCnt) + 1},
                        start=${searchInfo.currentPage % searchInfo.lastNo == 0} ? ${T(java.lang.Math).floor((searchInfo.currentPage - 1) / searchInfo.lastNo) * searchInfo.lastNo + 1} : ${T(java.lang.Math).floor(searchInfo.currentPage / searchInfo.lastNo) * searchInfo.lastNo + 1},
                        last=${(start + (searchInfo.lastNo - 1)) < totalPage ? (start + (searchInfo.lastNo - 1)) : totalPage},
                        beforeVal=${T(java.lang.Math).floor(searchInfo.currentPage - 1)},
                        nextVal=${T(java.lang.Math).floor(searchInfo.currentPage + 1)}">
                <th:block th:if="${searchInfo.totalCount > searchInfo.pageCnt}">
                    <th:block th:if="${ T(java.lang.Math).floor(searchInfo.currentPage - 1) < 1}">
                        <li class="page-item disabled">
                            <a class="page-link" href="javascript:" aria-label="First">
                                <i class="icon-pagination-first"></i>
                            </a>
                        </li>
                        <li class="page-item disabled">
                            <a class="page-link" href="javascript:" aria-label="Previous">
                                <i class="icon-pagination-prev"></i>
                            </a>
                        </li>
                    </th:block>
                    <th:block th:if="${ T(java.lang.Math).floor(searchInfo.currentPage - 1) > 0}">
                        <li class="page-item">
                            <a class="page-link" href="javascript:" data-role="btnGoPage" data-page="1" aria-label="First">
                                <i class="icon-pagination-first"></i>
                            </a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="javascript:" data-role="btnGoPage" th:data-page="${searchInfo.currentPage - 1}" aria-label="Previous">
                                <i class="icon-pagination-prev"></i>
                            </a>
                        </li>
                    </th:block>
                </th:block>

                <th:block th:each="page: ${#numbers.sequence(start, last)}">
                    <th:block th:if="${page == searchInfo.currentPage}">
                        <li class="page-item active"><a class="page-link" href="javascript:" th:text="${page}"></a></li>
                    </th:block>
                    <th:block th:if="${page != searchInfo.currentPage}">
                        <li class="page-item"><a class="page-link" href="javascript:" th:text="${page}" data-role="btnGoPage" th:data-page="${page}"></a></li>
                    </th:block>
                </th:block>

                <th:block th:if="${searchInfo.totalCount > searchInfo.pageCnt}">
                    <th:block th:if="${ T(java.lang.Math).floor(searchInfo.currentPage + 1) > totalPage}">
                        <li class="page-item disabled">
                            <a class="page-link" href="javascript:" aria-label="Next">
                                <i class="icon-pagination-next"></i>
                            </a>
                        </li>
                        <li class="page-item disabled">
                            <a class="page-link disabled" href="javascript:" aria-label="Last">
                                <i class="icon-pagination-last"></i>
                            </a>
                        </li>
                    </th:block>
                    <th:block th:if="${ T(java.lang.Math).floor(searchInfo.currentPage) < totalPage}">
                        <li class="page-item">
                            <a class="page-link" href="javascript:" data-role="btnGoPage" th:data-page="${searchInfo.currentPage + 1}" aria-label="Next">
                                <i class="icon-pagination-next"></i>
                            </a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="javascript:" data-role="btnGoPage" th:data-page="${ #numbers.formatInteger(totalPage, 1) }" aria-label="Last">
                                <i class="icon-pagination-last"></i>
                            </a>
                        </li>
                    </th:block>
                </th:block>
            </th:block>
        </ul>
    </nav>
</th:block>
</html>